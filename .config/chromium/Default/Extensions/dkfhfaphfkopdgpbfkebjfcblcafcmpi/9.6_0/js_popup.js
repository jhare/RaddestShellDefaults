var debug_mode=0;void 0===window.localStorage.debugLevel&&(console.log("Debug Level Not Stored Yet, setting to 0 as default"),window.localStorage.debugLevel=0);debug_mode=window.localStorage.debugLevel;console.log("in POPUP page - Debug Mode from Local Storage is: "+debug_mode);void 0===window.localStorage.notifLevel&&(console.log("Notif Pref Level Not Stored Yet, setting to 3 [verbose] as default"),window.localStorage.notifLevel=3);
void 0===window.localStorage.overridePrefix&&(console.log("Override Prefix Setting Not Stored Yet in Local Storage, setting to 1 as default"),window.localStorage.overridePrefix=1);void 0===window.localStorage.autoCloseLevel&&(console.log("Auto Close Window on Reply - -Setting Not Stored Yet in Local Storage, setting to 1 as default"),window.localStorage.autoCloseLevel=1);
function _b1ff83a6024e50ccbb732f5b85745b0867acd3c09879d284197965980b2d4432db5dcc29931d3cb0(a){contacts=[];a=JSON.parse(a);for(var c=0,b;b=a.feed.entry[c];c++){var e={name:b.title.$t,id:b.id.$t,emails:[],phonenums:[]};if(b.gd$email)for(var d=b.gd$email,h=0,g;g=d[h];h++)e.emails.push(g.address);e.name||(e.name=e.emails[0]||"<Unknown>");if(b.gd$phoneNumber){d=b.gd$phoneNumber;for(h=0;g=d[h];h++)e.phonenums.push(g.$t)}b.gd$phoneNumber&&contacts.push(e)}_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d()}
function _4d4bb4f1481cfbc7665be2623821477089131e74e7ca85eebdf1d8c4c36bc09851649db8698d2bbc(){document.getElementById("resultholder").innerHTML=resultdivclean}
function _52d811ab937b897517ffc1776b04676b1854364076a353dda89fab61047692e84e2ed07530702bec(){for(var a=document.getElementById("resultholder"),c=0,b;b=contacts[c];c++){var e=document.createElement("div"),d=document.createElement("p"),h=document.createElement("ul");d.innerText=c+" - "+b.name+" - "+b.phonenums[0]+" - "+b.phonenums[1]+" - "+_1190522a55ffda492c5f8e7d977692b124398d32a525a7df3d61c9dd8283a9afef3d5dc770807788(b.phonenums[0]);e.appendChild(d);for(var d=0,g;g=b.emails[d];d++){var j=document.createElement("li");
j.innerText=g;h.appendChild(j)}a.appendChild(e)}}var textcontent="STARTING_TEXT_MSG",selected_tab=0,sign_in_state=0,google_login_status=!1,login_and_beta_ready=!1,google_username_currently_logged_in="",extra_login_status_info="",most_recent_text_sent_status=0,smsarray=[];console.log(11111);
function _e043d400bc6b110b71338a92007c313905a664e23635ccff0b616d8ec9794689814d548ba7517031(){dest_num="+14158684689";_62256b3ea73926b46b14e26be2dea0c05d683e4dc8253cfa02e5e8c307778753c4697effc222f98a("Test SMS from MightyText",999)}
function _63c8bebcb0332fca2dfc5fe328bec839e7df6dc4a6b7aac0060d64150291886a0b417c6c18103255(a,c,b){"send-one-text"==a?_gaq.push(["_trackEvent","Popup","Send-SMS-Click","Single-Compose",1]):0<which_phone_num_from_hash_tag_in_url.length?_gaq.push(["_trackEvent","Popup","Send-SMS-Click","Inline-Reply-Single-Notif-Response",1]):_gaq.push(["_trackEvent","Popup","Send-SMS-Click","Inline-Reply-InApp-Tab",1]);most_recent_text_sent_status=0;var e=document.getElementById(a).value,d="error-text-content-"+b,h=
/\d/;""==e||0==e.indexOf("\n")?(document.getElementById(a).value="",document.getElementById(d).innerHTML="Text Message is Blank! "):!1==h.test(c)?document.getElementById(d).innerHTML="'Send To'  must contain a number.":(document.getElementById(a).focus(),dest_num=c,_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Destination Phone Num is: "+dest_num),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Target Num from  is: "+c),320<e.length?
document.getElementById(d).innerHTML="Text Message is too long. "+e.length+" (max is 320)":160<e.length?(_a3a6454f52ea7503ae857c53fa4f5565f81b43c82b80090196fbbd61985ea7f2fc5c2f6aa4e1f134(a,c,b,e.substring(0,160)),_a3a6454f52ea7503ae857c53fa4f5565f81b43c82b80090196fbbd61985ea7f2fc5c2f6aa4e1f134(a,c,b,e.substring(160,319))):_a3a6454f52ea7503ae857c53fa4f5565f81b43c82b80090196fbbd61985ea7f2fc5c2f6aa4e1f134(a,c,b,e))}
function _a3a6454f52ea7503ae857c53fa4f5565f81b43c82b80090196fbbd61985ea7f2fc5c2f6aa4e1f134(a,c,b,e){document.getElementById(a).value="";db.transaction(function(a){var h=Math.floor(1E10*Math.random())+"A",g=new Date,g=_3da4048ffc556b9d6c7ae43f64d7eed7675ef9843b38b789da2f768c8e9ad5c498ca6be82ff9febd(g);console.log("textreplycontent RIGHT BEFORE SQL Insert is: "+e);a.executeSql("INSERT INTO Messages (googleusername,msgid,time_client,time_server,from_phone_num,body,type,status,source) VALUES (?,?,?,?,?,?,?,?,?)",
[google_username_currently_logged_in,h,g,g,c,e,1,-99,2],function(){just_added_msg_id=h;_62256b3ea73926b46b14e26be2dea0c05d683e4dc8253cfa02e5e8c307778753c4697effc222f98a(e,just_added_msg_id);var a=b+"-texts",c="";80>e.length&&(c='style="display:inline;line-height: 35px"');_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("This send box  is: "+a);document.getElementById(a).innerHTML+='<li id="sms-line-item-msgid-'+just_added_msg_id+'" class="sms-line-item sms-reply" style="mmargin-left:20px"><span class="sms-body" '+
c+">"+e+'</span>  <span class="sms-time">'+_3da4048ffc556b9d6c7ae43f64d7eed7675ef9843b38b789da2f768c8e9ad5c498ca6be82ff9febdDisplayPurposes(g)+'</span>  <span id="send-status-msgid-'+just_added_msg_id+'" class="outbound-state-info" style="color:maroon;font-size:10px"> Sending Request to Phone... </span> <img id="send-in-progress-image-animation-msgid-'+just_added_msg_id+'" src="loading_icon_transparent.gif" style="width:24px;height:24px"> <span class="message-action-links"><img id="red-close-button-for-msgid-'+
just_added_msg_id+'" src="red-close-x.png" class="HoverBorder" style="display:none" align="middle" height="11" width="11" onclick="_1eeacf63551c1215a1cd882c7dc511735e9a1a08ee8625704bfd0a4bef7906c023dd5da1f43ab7a7(\''+just_added_msg_id+"')\"> </span> </li>";document.getElementById("sms-line-item-msgid-"+just_added_msg_id).style.backgroundColor="#EAEAEA";a="#"+a;$(a).scrollTop(2E4+$(a).height())},_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}
function OLD_moved_to_texty_dot__04dda587ce5a5e87908547569fa05fb62a2b3ba90c68f757afaca5673ec252d936026b79e337be89(a,c){db.transaction(function(b){b.executeSql("INSERT INTO LocalGoogleContacts (googleusername,phone_num,contact_name) VALUES (?,?,?)",[google_username_currently_logged_in,a,c],function(){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Added  Contact to local SQL: ' + contact_name_to_insert")},_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}
function _62256b3ea73926b46b14e26be2dea0c05d683e4dc8253cfa02e5e8c307778753c4697effc222f98a(a,c){_7f09e80a68613cc54d2cb10a7e19bb40d6dc539aa5b1d7e217aa227d5b2b8a84920780cf637960e2("send_sms",a,c,_84488110acb4f7c1c6cc0ddd2733f778e00826fcbaa3a8b150fdf1d0507c32e6ebc7db66d6d5b493)}
function _84488110acb4f7c1c6cc0ddd2733f778e00826fcbaa3a8b150fdf1d0507c32e6ebc7db66d6d5b493(a,c,b){$("#msg").css("visibility","visible");a==STATUS_SUCCESS?(_93b4d1a223c74401decacad7239a321468f673efe1fc71649d2b2e613709dd9b9144b57ed08ae009(),document.getElementById("msg").innerHTML="Request sent to phone.. SMS to "+dest_num,_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Attempting to Mark Local Record SENT..."),_b05f47309785c9f9f309c597bda84ea8f76505c0c5b05615f6f001e94b54d31f95f3793ea24d0cd8(c),
_9ae3a51389bf4fe4487ae22d9517449c33c2f4caad970dde204295aa63742c823fb90cc83bb4bd08(),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Sent C2DM message, make quick polling now to check for ACK.... decrease polling frequency")):a==STATUS_LOGIN_REQUIRED?(a='<a href="#" onclick="chrome.tabs.create({url: \''+signInUrl+"'})\">"+chrome.i18n.getMessage("sign_in_message")+"</a>",document.getElementById("msg").innerHTML=chrome.i18n.getMessage("sign_in_required_message",a)):
a==STATUS_DEVICE_NOT_REGISTERED?(document.getElementById("msg").innerHTML=chrome.i18n.getMessage("device_not_registered_message"),_gaq.push(["_trackEvent","Popup","ERROR-C2DM","DEVICE-NOT-REGISTERED",1])):(document.getElementById("msg").innerHTML=chrome.i18n.getMessage("error_sending_message",b.responseText),_gaq.push(["_trackEvent","Popup","ERROR-C2DM",b.responseText,1]))}
function _9ae3a51389bf4fe4487ae22d9517449c33c2f4caad970dde204295aa63742c823fb90cc83bb4bd08(){_f05f57b6c95b7577f77ada43e3823e6be0c2572ac6e700d37db284d0060d657b862ae53c08bb87f0(!0);var a=document.getElementById("signout");a.innerHTML="Sign Out";a.style.color="blue";a.onclick=function(){chrome.tabs.create({url:signOutUrl})}}function _01a085ab1f797e3bb30cc7a4c9ec736827e3c32b179396bc6de030109066f5dd65b9c7d8cb2ae4a2(a){document.getElementById("signout").style.visibility=a}
function _722e1cf0c2b89871b4f64ff46f78304843d1de6dddd7d2304b0d7074211fbd09738622bc5f687653(a){for(var c=(new Date).getTime(),b=0;1E7>b&&!((new Date).getTime()-c>a);b++);}
function _05fd32d4f5e6ec57202ea18014f8c21bf3aee04178cd182258e6f30a84c7a4d5dd4cb9f8ddec2aa7(){document.getElementById("msg").innerHTML="";document.getElementById("top-notif-bar").innerHTML="";document.getElementById("results").innerHTML='<span id="refresh-indicator"><img src="ajax-spinner-green.gif" style="margin-left:20px"><span>'}
function _c742d071cc2b4facc84e2d705730172a8edcbc61d8daf3c5f27624f0ae2a97c2e0af2f0cb57955da(){document.getElementById("fb-like-button").innerHTML='<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fpages%2FTexty%2F156773284381924&amp;layout=button_count&amp;show_faces=false&amp;width=85&amp;action=like&amp;font&amp;colorscheme=dark&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:85px; height:21px;" allowTransparency="true"></iframe>'}
function _12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d(a){db||(db=openDatabase("Texty","1.0","Texty-SMS",2E5));_2b9c0dcda4499865c4d87e269b7d224e783688f040484356ed613195a4a7aac91e6a15378e1f000a();_fe158ebafb51616c83138ecaf700f1d7fc370115e7818fc9eea51ce2179b907173217ad7a1236740();_2338e4352325b67f2b0c5e5b877edae40b456a976f083e4423b4b1b9fab13b1e64c7da54dc665313();_gaq.push(["_trackEvent","Popup","Refresh-Page","",1]);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("In Full Refresh -- Current google_login_status is "+
google_login_status);_4a92489df747db600fc4eae352112b8896447b1879a8972321da36bcc32c671b929d3b7ad59cb7cc();selected_tab=$("#results").tabs("option","selected");void 0!=selected_tab.length&&(selected_tab=0);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("SMSarray count is "+smsarray.length);void 0!=a&&(document.getElementById("msg").innerHTML=a,$("#msg").css("visibility","visible"),$("#msg").fadeOut(4E3,function(){document.getElementById("msg").innerHTML="";$("#msg").show()}))}
function _43cd2f9a9d5fbb864761f27e76b4277f4bb1b01fa48e7fbd323c7db52dcc224590790b3bfa999378(){console.log("in _43cd2f9a9d5fbb864761f27e76b4277f4bb1b01fa48e7fbd323c7db52dcc224590790b3bfa999378");0<smsarray.length?console.log("setviewportarea"):(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Zero Messages in Local store retrieved...show quick note to user telling them..."),document.getElementById("results").innerHTML='<span style="font-size:14px;color:blue"><B><br>Currently no text messages. Hit Compose New to send a new Text Message</B></span>')}
function _239b25b43284ba4ce9840d2eed474ff5b285e98844ae8e54b7f91e73d38204a429e746721f0bf2e3(a,c,b){document.getElementById(a).style.visibility=c;document.getElementById(a).style.height=b}
function _0fff99388711cac8b387fc1f1e1bcb9bbef42c015ce749d7f3cfa513005fcfb9c9aed6371ccc4d87(){!google_login_status||!login_and_beta_ready?_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("while in contacts retrieval, found out user not logged in or beta ready, so break out..."):(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("about to call BG function to get google contacts info..."),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Getting LATEST GOOGLE CONTACTS from BACKGROUND PAGE..."),
chrome.extension.sendRequest({greeting:"call_from_popup_to_check_contact_info"},function(a){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Google Contacts Token status per the BG page is: "+a.google_contacts_token_status);"ACTIVE_GOOGLE_CONTACTS_TOKEN_STORED_LOCALLY"==a.google_contacts_token_status?(null==a.farewell?_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("There was an active token, but no Google Contacts in BG page (array is null)"):
(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Getting LATEST GOOGLE CONTACTS from BACKGROUND PAGE..."+a.farewell.length+" contacts in array..."),contacts=a.farewell),null!=a.autocomplete_contacts_list&&(autocomplete_contacts=a.autocomplete_contacts_list)):(0<document.getElementById("top-notif-bar").innerHTML.length&&(document.getElementById("top-notif-bar").innerHTML+="<br>"),document.getElementById("top-notif-bar").innerHTML+='<img  align=BOTTOM src="error_icon.png" width=20 height=18 /> <span style="color:red"> Contacts not synced.</span>  <a href="#" onclick="window.close();_4af816e250011daa4aa4ec520fc8784835e05e0395bc1164836ad6538cd02e52f5a2ea2a077fa2ca();"> Sync MightyText with your Google Contacts</a> to see names <span style="font-size:10px"></span>');
console.log("*** about to call Traverse ***");REFACTOR__54b49173a3d065c6ac85b781feaafac6075c4b0ee2be08065255c376d837844b2bbad53aa5770ffd()}))}function _fe158ebafb51616c83138ecaf700f1d7fc370115e7818fc9eea51ce2179b907173217ad7a1236740(){smsarray=_bea166c49ce74ded6a00d850e591a6ab0fdea0db7156d814db6e54cc1608e0e3408dbce666a39b96()}function _1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e(a,c){log.innerHTML+="<p>"+c.message+"</p>"}
function _bea166c49ce74ded6a00d850e591a6ab0fdea0db7156d814db6e54cc1608e0e3408dbce666a39b96(){var a=[],c="SELECT *,substr(replace(replace(from_phone_num,' ',''),'-',''),-7) AS right_digits_phone_num FROM (SELECT * FROM Messages ORDER BY id DESC LIMIT 0,600) ORDER BY right_digits_phone_num,time_client";0<which_phone_num_from_hash_tag_in_url.length&&(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(which_phone_num_from_hash_tag_in_url),c="SELECT *,substr(replace(replace(from_phone_num,' ',''),'-',''),-7) AS right_digits_phone_num FROM Messages WHERE right_digits_phone_num=substr(replace(replace('"+
which_phone_num_from_hash_tag_in_url+"',' ',''),'-',''),-7) ORDER BY right_digits_phone_num,time_client");db.transaction(function(b){b.executeSql(c,[],function(b,c){for(var h=0,g=null;h<c.rows.length;h++)g=c.rows.item(h),a[h]=g,text_message_array[h]=g})});return a}
function _06978a74df80132c94374fead79757252a6fa5aa07fa6eaac7e92f4455020996380e0b9fa695fd98(a){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Checking if SMS completed full cycle yet from cloud...for msgid: "+a);db.transaction(function(c){c.executeSql("SELECT * FROM Messages WHERE msgid=?",[a],function(a,c){status_of_just_sent_message=c.rows.item(0).status;_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("status of this msg NOW is: "+
status_of_just_sent_message)})})}function _93291b8d5d0ab940555f10c30536d9e0b2bcd9bd514263497d52a508f2b4fbf83eed5c619b6ead34(a,c){db.transaction(function(b){b.executeSql("UPDATE Messages SET googleusername = ? WHERE id = ?",[c.innerHTML,a],null,_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}
function _1eeacf63551c1215a1cd882c7dc511735e9a1a08ee8625704bfd0a4bef7906c023dd5da1f43ab7a7(a){db.transaction(function(c){c.executeSql("DELETE FROM Messages WHERE msgid=?",[a],function(){_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d("Deleted message. (on Chrome only)")},_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}
function _5a364adc488d4403717ca81d4589905122d0755fa4a15d15b6e6fdf9c95a4de9b40896e3f89bee1e(a){a="%"+a;_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Deleting all messages from this sender --- DELETE FROM Messages WHERE substr(replace(replace(from_phone_num,' ',''),'-',''),-7) LIKE "+a);db.transaction(function(c){c.executeSql("DELETE FROM Messages WHERE substr(replace(replace(from_phone_num,' ',''),'-',''),-7) LIKE ?",[a],function(){_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d("Deleted all text messages to/from this person (on Chrome only)")},
_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}
function _7ccdedc993dcbae2e97dc2c30532d6601346ec9a61cbc971badf56b7c4b80fb5dbbf65ebf08effd7(a){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("in mark Read function");db.transaction(function(c){c.executeSql("UPDATE Messages SET status=1 WHERE msgid=?",[a],function(){_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d()},_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}
function _b05f47309785c9f9f309c597bda84ea8f76505c0c5b05615f6f001e94b54d31f95f3793ea24d0cd8(a){console.log("IN ************************* MARK LOCAL RECORD SENT SUCCESSFULLY **********************");_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Attempting SQL Local Record Sent to Cloud Successfully...");db.transaction(function(c){c.executeSql("UPDATE Messages SET status=51 WHERE msgid=? and status=-99",[a],function(){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Successfully updated MSGID "+
a+" from -99 to 51");0<which_phone_num_from_hash_tag_in_url.length&&0!=window.localStorage.autoCloseLevel&&setTimeout("window.close();",1500);document.getElementById("send-status-msgid-"+a).innerHTML+='<B style="color:green">OK</B>...Waiting for phone confirmation...';_06978a74df80132c94374fead79757252a6fa5aa07fa6eaac7e92f4455020996380e0b9fa695fd98(a);var b=window.setInterval(function(){_06978a74df80132c94374fead79757252a6fa5aa07fa6eaac7e92f4455020996380e0b9fa695fd98(a);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("global status of last sent message for msgid "+
a+" is: "+status_of_just_sent_message);52==status_of_just_sent_message&&(b=clearInterval(b),document.getElementById("send-status-msgid-"+a).innerHTML+='<B style="color:green">DONE!</B>',document.getElementById("send-in-progress-image-animation-msgid-"+a).style.display="none",document.getElementById("sms-line-item-msgid-"+a).style.backgroundColor="white",_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("status is 52..so..stopping polling"))},500);window.setTimeout(function(){clearInterval(b)},
3E4)},_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}function _821da834df671eaeb84f1a37131e4b6fab7dbb46cfbcae00c5dc813174c7be395326b89d288e8188(){db.transaction(function(a){a.executeSql("DROP TABLE LocalGoogleContacts",[],function(){localContactsArray=[];_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d()},_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}
function _b56b6fa406a2a849a06124a755ccce08c5721beeb609afd886ee8710228d193433a2393491aee9b1(){db.transaction(function(a){a.executeSql("DROP TABLE Messages",[],function(){smsarray=[];_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d()},_1ab5a1b8b5e15644f372cb5ea3114befc07a8b7d8351a2027976ef549f0fc2416068f1b883b3824e)})}
function _2b9c0dcda4499865c4d87e269b7d224e783688f040484356ed613195a4a7aac91e6a15378e1f000a(){db.transaction(function(a){a.executeSql("SELECT * FROM LocalGoogleContacts",[],function(a,b){for(var e=0,d=null;e<b.rows.length;e++)d=b.rows.item(e),localContactsArray[e]=d},function(){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("FAILED to select from LocalGoogleContacts -- create this table?")})})}
function _1f0c2be374a0153f49abdd71ed8da54ea25570df108d85109b999c28fc94fb586c333ad60df758b4(){_gaq.push(["_trackEvent","Popup","Compose-New-Button-Click","",1]);_239b25b43284ba4ce9840d2eed474ff5b285e98844ae8e54b7f91e73d38204a429e746721f0bf2e3("resultholder","visible","300px");document.getElementById("results").style.background="none";document.getElementById("results").innerHTML='<div id="compose-single-text" style="clear:both;font-size:18px;margin-left:5px">';document.getElementById("compose-single-text").innerHTML+=
'<a href="#" onclick="location.reload(true);" style="font-size:14px;color:green"><B>\u2190 Back to text messages</a></B><br><br>';contact_box_prompt="Start typing a name or number...";document.getElementById("compose-single-text").innerHTML+='<p><B>Send To:</B> <span style="font-size:9px;color:blue">&nbsp&nbsp&nbsp(currently can only send to 1 person at a time)</span></p>';document.getElementById("compose-single-text").innerHTML+='<input id="compose-number" type="text" size=50 name="compose-number" style="color:darkgrey; border:1px solid #CCC;-webkit-border-radius:10px;margin:0px;padding:5px;font-family:arial;font-size:14px" value="'+
contact_box_prompt+"\" onblur=\"if (this.value == '')  {this.style.color='darkgrey';this.value = '"+contact_box_prompt+"';}\" onfocus=\"if (this.value == '"+contact_box_prompt+"') {this.style.color='black';this.value = '';}\"/><br><br>";document.getElementById("compose-single-text").innerHTML+='<p><B>Message:</B></p> <textarea id="send-one-text" value="starting val" onfocus="document.getElementById(\'error-text-content-single-text\').innerHTML=\'\';" style="height:60px;width:400px;border:1px solid #CCC; -webkit-border-radius:10px; margin:0px;padding:5px;font-family:\'Inconsolata\',arial;font-size:15px"></textarea>';
document.getElementById("compose-single-text").innerHTML+='<button id="send-button-single-text" style="font-family:arial;font-size:12px;mmargin:0px;padding:5px;margin-left:10px;margin-top:-5px;clear:both;" onclick="_c5cf00bbdf61d0875c69e0797e58c9893eda0b78204c466e27c04b48f34fb26feb19a8f7c8aac8dd();"> Send</button>';document.getElementById("compose-single-text").innerHTML+='<span style="font-size:14px;font-weight:bold;color:#3F8CD9;border:none;font-family:arial;margin-left:20px" id="charsLeft-one-text"> </span>';
document.getElementById("compose-single-text").innerHTML+="</div>";document.getElementById("compose-single-text").innerHTML+='<br><div id="single-text-texts" style="font-size:14px"></div>';document.getElementById("compose-single-text").innerHTML+='<br><div id="error-text-content-single-text" style="font-weight:bold;color:red;font-size:14px"></div>';$("#send-one-text").delegate("","keypress",function(a){13==a.keyCode&&(a.preventDefault(),$("#send-one-text").blur(),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("enter triggered"),
_6e72d6a14baec8319919163ce9043def03491abab3f8bbc602e3a34f7cbc8a3d97e1393a135562fc()&&(a=$("#send-one-text")[0].value,$("#send-one-text")[0].value=a.replace("\n",""),$("#send-button-single-text").click()),$("#send-one-text").focus())});_e011630b6bbcc342084d4a03f29680220e5a0ce26988697be6a7e7f1299acd26dd71c3522b32ca8a();$("#send-one-text").NobleCount("#charsLeft-one-text");$(function(){$("#compose-number").autocomplete({source:autocomplete_contacts})})}
function _6e72d6a14baec8319919163ce9043def03491abab3f8bbc602e3a34f7cbc8a3d97e1393a135562fc(){if(google_login_status)return!0;document.getElementById("msg").innerHTML='<span style="color:black">** Unable to send any new text messages until you sign in **</span>';return!1}
function _9364c95d7bd822a4751ea55b54fd880c7ef7c89f753f822ee660e26b1e43086a823087cf937b94c8(){document.getElementById("user-actions").innerHTML="";0<which_phone_num_from_hash_tag_in_url.length?setTimeout('$("textarea#inputsms-0").focus();',100):google_login_status&&(document.getElementById("user-actions").innerHTML+='<button class="pill positive button" onclick="if(_6e72d6a14baec8319919163ce9043def03491abab3f8bbc602e3a34f7cbc8a3d97e1393a135562fc()) {_1f0c2be374a0153f49abdd71ed8da54ea25570df108d85109b999c28fc94fb586c333ad60df758b4();}"> <span class="pen icon"></span> Compose New</button>',
document.getElementById("user-actions").innerHTML+='<button class="pill button" onclick="document.getElementById(\'msg\').innerHTML =  \'\';_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d();"><span class="reload icon"></span>Refresh</button>')}
function _eb2140e3470c108b6f1103a774a7b09b7f0661b6624361dfc180546aa360da25ede776e067a3e244(){document.getElementById("results").innerHTML="";document.getElementById("user-actions").innerHTML="";document.getElementById("messages").innerHTML=""}
function _ed949327400e1946d935e69862a1a007923ec8b9383dcd791f1116e9f896a1aad66e00416f777575(){null!=window.localStorage&&1==window.localStorage.usingWebAppNew&&($("body").hide(),alert('To set options for MightyText, click "Settings" in the Web application. Redirecting now.'),_010fac766442edacd3c21ae69c965656d1cc0b93fd3035f1d3859400f44bc727d1d64f84d46d4d4a());_gaq.push(["_trackEvent","Popup","Options-Page-Load","",1]);_eb2140e3470c108b6f1103a774a7b09b7f0661b6624361dfc180546aa360da25ede776e067a3e244();
document.getElementById("results").innerHTML="";document.getElementById("results").innerHTML+='<br><div><a href="#" onclick="location.reload(true);" style="font-size:12px;color:green"><br><B>  \u2190 back to text messages</B></a><br><span style="color:maroon;font-size:13px"><B>Please note: The options below are only applicable if you are using the Chrome Extension to send/receive messages.  If you are an early tester on the new MightyText Web App, the options below do not apply.<B></span><br><br></div>';
document.getElementById("results").innerHTML+='<div id="notificationLevelSelection" class="options-section"><strong>Desktop Notification Preference</strong>: When a new text message comes in, what text to show in the desktop notification.<br><br> <input id="notif-level-3" type="radio" name="notif_level" value="3" onclick="_109fc1805c37ba6aef6b9a57462542995fbe0e358be9cd2761fcbf57d338084ae17147efc0ef5b02(this)" >Sender Name and Message Text (e.g. "<B>Bill Jones:</B>  Running 15 minutes late. Do you want me to pick up dinner?") - <B>default</B> <br> <input id="notif-level-2" type="radio" name="notif_level" value="2" onclick="_109fc1805c37ba6aef6b9a57462542995fbe0e358be9cd2761fcbf57d338084ae17147efc0ef5b02(this)">Just Sender Name (e.g. "New text from Bill Jones. <B><U>see it</U></B>")</div>';
$("input[id=\"notif-level-' + window.localStorage.notifLevel + '\"]").attr("checked",!0);document.getElementById("results").innerHTML+='<div id="debugLevelSelection" class="options-section"><strong>Debug Level</strong><br><br><input id="debug-level-1" type="radio" name="debug_level" value="1" onclick="_3752e64a559d1fa3aaf1ed12e10eb92fb2af0da2fe78e0151d3e46079b3d7e86eb7ef175616d11f7(this)">Debug info to local console only<br> <input id="debug-level-0" type="radio" name="debug_level" value="0" onclick="_3752e64a559d1fa3aaf1ed12e10eb92fb2af0da2fe78e0151d3e46079b3d7e86eb7ef175616d11f7(this)">Debugging OFF - <B>default</B></div>';
$("input[id=\"debug-level-' + window.localStorage.debugLevel + '\"]").attr("checked",!0);document.getElementById("results").innerHTML+='<div id="autoCloseWindowOnReplySelection" class="options-section"><strong>Popup Window after Replying</strong><br><br><input id="auto-close-1" type="radio" name="auto_close_window" value="1" onclick="_62b47f638ae60eadabfa0f24bb630778c911ba062e01d39a2d9e3a2999cd42075302a9b5cbece897(this)">Automatically close window after sending reply<br> <input id="auto-close-0" type="radio" name="auto_close_window" value="0" onclick="_62b47f638ae60eadabfa0f24bb630778c911ba062e01d39a2d9e3a2999cd42075302a9b5cbece897(this)">Leave popup window open after sending reply</div>';
$("input[id=\"auto-close-' + window.localStorage.autoCloseLevel + '\"]").attr("checked",!0);document.getElementById("results").innerHTML+='<div id="adminTools" class="options-section"><strong>Advanced Options: </strong><br><br>';document.getElementById("adminTools").innerHTML+='<button onclick="_e043d400bc6b110b71338a92007c313905a664e23635ccff0b616d8ec9794689814d548ba7517031()">Send Test SMS to USA #</button>';console.log(signOutUrl);!0==google_login_status?document.getElementById("adminTools").innerHTML+=
"<button onclick=\"chrome.tabs.create({url: '"+signOutUrl+"'})\">Sign Out of MightyText</button>":document.getElementById("adminTools").innerHTML+="<button onclick=\"chrome.tabs.create({url: '"+signInUrl+"'})\">Sign In to MightyText</button>";document.getElementById("adminTools").innerHTML+='<button onclick="_ebccb1b0caf018a968dabc0324272ab8352b1338d1f2004122e4d0304f225cc2f0edd679b80d863f();_199f61ed737b9b686f73117fefa84379585ad7ce05d5b5344d68091739623bb60443f3ab70859cbd();_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d();">Create Local Data Stores</button>';
document.getElementById("adminTools").innerHTML+='</b><button onclick="_821da834df671eaeb84f1a37131e4b6fab7dbb46cfbcae00c5dc813174c7be395326b89d288e8188()">Delete all Local Contacts</button><br>';document.getElementById("adminTools").innerHTML+='</b><button onclick="_b56b6fa406a2a849a06124a755ccce08c5721beeb609afd886ee8710228d193433a2393491aee9b1()">Delete all Local Messages</button>';oauth.hasToken()?(document.getElementById("adminTools").innerHTML+='<button onclick="_4d4bb4f1481cfbc7665be2623821477089131e74e7ca85eebdf1d8c4c36bc09851649db8698d2bbc();_6d3fd5861333f0e7a869b9df63477e5bd1b6a239d6713c0203528addbbf93f7093e0a2c232b33178();">Force Sync w/ Google Contacts</button>',
document.getElementById("adminTools").innerHTML+='<button onclick="_fbb80e8aa6ec05cc71f898d7dcf92deafb75954f810bd2adca8109e71a0fa4995bb7a965fd8d905a();_12b95204c684233b50f08bf65fe7996fe310b693929c010c8a4ba30eadae4de4da7c955f597ef04d();">Clear Stored Contacts Token</button>'):document.getElementById("adminTools").innerHTML+='<button onclick="_6d3fd5861333f0e7a869b9df63477e5bd1b6a239d6713c0203528addbbf93f7093e0a2c232b33178();">Get Google Contacts Token</button>';document.getElementById("results").innerHTML+=
"</div>"}
function _109fc1805c37ba6aef6b9a57462542995fbe0e358be9cd2761fcbf57d338084ae17147efc0ef5b02(a){null==window.localStorage?_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Local storage is required!"):(a=a.value,3==a?window.localStorage.notifLevel=3:2==a?window.localStorage.notifLevel=2:1==a&&(window.localStorage.notifLevel=1),document.getElementById("msg").innerHTML="Updated Notification Preference",$("#msg").fadeOut(2E3,function(){document.getElementById("msg").innerHTML="";
$("#msg").show()}))}
function _3752e64a559d1fa3aaf1ed12e10eb92fb2af0da2fe78e0151d3e46079b3d7e86eb7ef175616d11f7(a){null==window.localStorage?_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Local storage is required!"):(a=a.value,2==a?window.localStorage.debugLevel=2:1==a?window.localStorage.debugLevel=1:0==a&&(window.localStorage.debugLevel=0),debug_mode=window.localStorage.debugLevel,document.getElementById("msg").innerHTML="Updated Debug Level",$("#msg").fadeOut(2E3,function(){document.getElementById("msg").innerHTML=
"";$("#msg").show()}))}
function _62b47f638ae60eadabfa0f24bb630778c911ba062e01d39a2d9e3a2999cd42075302a9b5cbece897(a){null==window.localStorage?_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Local storage is required!"):(a=a.value,1==a?window.localStorage.autoCloseLevel=1:0==a&&(window.localStorage.autoCloseLevel=0),document.getElementById("msg").innerHTML="Updated Window Close Preference",$("#msg").fadeOut(2E3,function(){document.getElementById("msg").innerHTML="";$("#msg").show()}))}
function _e2331288a1618ab93cc5fcfafb956ddce508c5412019d8d301d5ae77ca0bd5899c36a6e2a073965a(a){null==window.localStorage?_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Local storage is required!"):(a=a.value,1==a?window.localStorage.overridePrefix=1:0==a&&(window.localStorage.overridePrefix=0),document.getElementById("msg").innerHTML="Updated +1 Override Setting",$("#msg").fadeOut(2E3,function(){document.getElementById("msg").innerHTML="";$("#msg").show()}))}
function _c5cf00bbdf61d0875c69e0797e58c9893eda0b78204c466e27c04b48f34fb26feb19a8f7c8aac8dd(){var a=document.getElementById("compose-number").value;_63c8bebcb0332fca2dfc5fe328bec839e7df6dc4a6b7aac0060d64150291886a0b417c6c18103255("send-one-text",a,"single-text")}function _2917470393e684a67e0ccf60c720ecd1bc5e5c3dfbd4175f086f9e781bef5d956cf56749280597d8(a,c,b){a=document.getElementById(a);c=document.getElementById(c);a.value.length>b?a.value=a.value.substring(0,b):c.value=b-a.value.length}
function _54b49173a3d065c6ac85b781feaafac6075c4b0ee2be08065255c376d837844b2bbad53aa5770ffd(){console.log("In Traverse");var a=(new Date).getTime();document.getElementById("resultholder").innerHTML=resultdivclean;document.getElementById("messages").innerHTML="";db.transaction(function(c){c.executeSql("SELECT 1",[],function(){for(var b=0;1>b;b++){var c="inputsms-0",d="sendbox-0",h="charsLeft-0",g=0,j="";new Boolean(!1);var l="";_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("sms array length is "+
smsarray.length);for(var b=0,f="initial";b<=smsarray.length&&0!=smsarray.length;b++){if(b==smsarray.length||f!=smsarray[b].right_digits_phone_num){console.log("** At end of thread **");if(0!=b){document.getElementById(d).innerHTML+='<div id="send-action" style="margin-top:10px">';document.getElementById(d).innerHTML+='<textarea id="'+c+'" value="starting val" name="limitedtextarea" onfocus="document.getElementById(\'error-text-content-'+d+"').innerHTML='';\" style=\"float:left;height:60px;width:450px;border:1px solid #CCC;-webkit-border-radius:10px;margin:0px;padding:5px;font-family:'Inconsolata',arial;font-size:15px\" ></textarea>";
document.getElementById(d).innerHTML+='<span style="font-size:14px;font-weight:bold;color:#3F8CD9;border:none" id="'+h+'"> </span>';document.getElementById(d).innerHTML+='<span style="margin-top:160px">';document.getElementById(d).innerHTML+='<button id="send-button-'+g+'" style="float:left;font-size:15px;margin-left:5px" class="positive pill" onclick="if(_6e72d6a14baec8319919163ce9043def03491abab3f8bbc602e3a34f7cbc8a3d97e1393a135562fc()) {_63c8bebcb0332fca2dfc5fe328bec839e7df6dc4a6b7aac0060d64150291886a0b417c6c18103255(\''+
c+"','"+k+"','"+d+'\');}"> <span class="mail icon"></span>Send</button>';document.getElementById(d).innerHTML+="</span>";document.getElementById(d).innerHTML+='<button id="delete-all-from-sender" style="float:right;font-size:10px;margin-top:0px;ppadding:10px" class="negative button" onclick="_5a364adc488d4403717ca81d4589905122d0755fa4a15d15b6e6fdf9c95a4de9b40896e3f89bee1e(\''+f+'\')"><span class="trash icon"></span> Delete all from this sender</button>';document.getElementById(d).innerHTML+="</div>";
document.getElementById(d).innerHTML+='<div id="enter-help-msg" style="padding:5px;margin:10px;margin-top:6px;text-align:left;font-size:12px;color:green">&nbsp  \u2190 Press Enter to send<br><span style="font-size:10px;color:grey"> &nbsp Will send SMS via your phone to: <B>'+k+"<B></span></div>";document.getElementById(d).innerHTML+='<div id="error-text-content-'+d+'" style="font-weight:bold;color:red;font-size:14px"></div>';$("#"+c).delegate("","keypress",function(a){if(13==a.keyCode&&(a.preventDefault(),
$("#"+a.target.id).blur(),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("enter triggered, and blur attempt"),_6e72d6a14baec8319919163ce9043def03491abab3f8bbc602e3a34f7cbc8a3d97e1393a135562fc())){var b=a.target.id,c=$("#"+b)[0].value;$("#"+b)[0].value=c.replace("\n","");b=b.substr(9);$("#send-button-"+b).click()}$("#"+a.target.id).focus()});if(b==smsarray.length){console.log("***** AT LAST MESSAGE IN ARRAY IN TRAVERSE FUNCTION *****");break}g+=1;c="inputsms-"+String(g);
d="sendbox-"+String(g);h="charsLeft-"+String(g)}document.getElementById("results").innerHTML+='<div id="'+d+'" style="margin-top:4px;background-colorrr:white;padding:0px;"></div>';_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("----------------------------------------------------------------------------");f=smsarray[b].right_digits_phone_num;_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("phone # in messages table is: "+f);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Length of this # is: "+
f.length);f=f.replace("+","");7>f.length&&(f=_e1da2a0fda25ee1865940678103797062da7cba55296c37edc970c31de7c9ec1667e4bd363cec4e8(f,7));_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Looking up (last 7 digits of phone num): "+f+" -- in local contacts array -- from msgid: "+smsarray[b].id);var k=0,l=_4f5645f4eb91b42730be27e1029ad446c81d1382b98039782f4f68df506cd143b5015738ff3af2c1(f);""!=l?(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(f+
" WAS  FOUND in Local Contacts DB"),j=l.contactNameLocalDB+'<span style="padding-left:3px;font-size:9px;text-decoration:none;"> ('+l.contactPhoneNumberLocalDB+")</span>",k=l.contactPhoneNumberLocalDB):(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(f+" WAS NOT FOUND in Local Contacts DB -- so now look at Temp Synced G Contacts (from Background Page)"),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Currently: "+contacts.length+
" contacts in Locally Temp Synced G Contacts OAuth array"),0==contacts.length&&(j=smsarray[b].from_phone_num,k=smsarray[b].from_phone_num,_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("No oAuth G Contacts - Will just display full phone number  in tab: "+smsarray[b].from_phone_num+" to user...")),0<contacts.length&&(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Looking up: "+f+" -- in Locally Temp Synced G Contacts OAuth array"),
k=_63edc00dd64912451f2cb6b12f913cf60ed3f57c94f50977cfadb6b1d53fa2fcab084332d424d2b8(f,smsarray[b].from_phone_num),""==k?(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(f+" NOT FOUND in Locally Temp Synced G Contacts OAuth array"),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Will just display phone number (last # in thread): "+smsarray[b].from_phone_num),j=smsarray[b].from_phone_num,k=smsarray[b].from_phone_num):(j=k.contactNamefromGoogleContactsArray+
" ("+k.contactPhoneNumberfromGoogleContactsArray+")r",k=k.contactPhoneNumberfromGoogleContactsArray)));document.getElementById("anchors-for-tabs").innerHTML+='<li><a href="#'+d+'">'+j+"</a></li>";0<which_phone_num_from_hash_tag_in_url.length&&(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("single reply thread -- attempting to hide ul anchors"),$("ul#anchors-for-tabs").hide(),$("ul#anchors-for-tabs").height(1),$("div#top-notif-bar").hide(),$("div#close-window-button-red-x").hide(),
$("div#sendbox-0").css("padding-top","0"),setTimeout("$('div#sendbox-0-texts').css('border-top-left-radius','0px 0px');",10),setTimeout("$('button#delete-all-from-sender').hide();",10),setTimeout("$('button#send-button').text('Send Reply');",10),document.getElementById("results").innerHTML='<div id="single-reply-heading" style="margin-bottom:-10px;font-size:22px;color:white;background-color:#0087D2;margin-left:0px;padding:12px;padding-bottom:20px;margin-top:30px;padding-right:0px;border-top-left-radius:10px;border-top-right-radius:10px;letter-spacing: -0.5px;clear:both"><B>'+
j+"</B></div>"+document.getElementById("results").innerHTML);document.getElementById(d).innerHTML+='<div class="text-message-list" style="height:300px" id="'+d+'-texts"> </div>'}f=smsarray[b].right_digits_phone_num;l="";1==smsarray[b].type&&(l=" sms-reply");b==smsarray.length-1&&(0==smsarray[b].type&&0<which_phone_num_from_hash_tag_in_url.length)&&_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(" msgid for bolding is: "+smsarray[b].msgid);buildTextList='<li id="sms-line-item-msgid-'+
smsarray[b].msgid+'" class="sms-line-item'+l+'">';l="";l=80>smsarray[b].body.length?'style="display:inline;line-height: 35px"':"";buildTextList+='<span id= "sms-body-msgid-'+smsarray[b].msgid+'" class="sms-body" '+l+">"+smsarray[b].body+'</span>  <span class="sms-time">'+_3da4048ffc556b9d6c7ae43f64d7eed7675ef9843b38b789da2f768c8e9ad5c498ca6be82ff9febdDisplayPurposes(smsarray[b].time_client)+"</span>";1==smsarray[b].type&&(51==smsarray[b].status?buildTextList+='<span class="outbound-state-info"> [Computer&nbsp&raquo&nbspYour&nbspPhone] </span>':
52==smsarray[b].status?buildTextList+='<span class="outbound-state-info" style="color:green"> [Full Cycle Complete] </span>':-99==smsarray[b].status?buildTextList+='<span class="outbound-state-info" style="color:maroon"> [Failed Send] </span>':1==smsarray[b].status&&(buildTextList+='<span class="outbound-state-info" style="color:maroon"> [Phone Sent SMS] </span>'));buildTextList+='<span class="message-action-links">';buildTextList+='<img src="red-close-x.png" class="HoverBorder" align=middle height=11 width=11 style="margin-left:3px;margin-bottom:5px" onclick="_1eeacf63551c1215a1cd882c7dc511735e9a1a08ee8625704bfd0a4bef7906c023dd5da1f43ab7a7(\''+
smsarray[b].msgid+"')\"> </span> </li>";document.getElementById(d+"-texts").innerHTML+=buildTextList}console.log("DONE GENERATING HTML!");window.setTimeout("_43cd2f9a9d5fbb864761f27e76b4277f4bb1b01fa48e7fbd323c7db52dcc224590790b3bfa999378()",100);window.setTimeout("_8e18be93b9ff59ec497fd589a9014218257d1d06b4f5a919031991a4f8273575bfb8a2e5852f25ae();",0);c=(new Date).getTime();_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(a);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(c);
_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Time to Load Tabs: "+(c-a)/1E3);console.log("value of i (counter) got to: "+b+"...sms total based on array was: "+smsarray.length);console.log("number of unique contacts with messages isss: "+g);300<smsarray.length&&_gaq.push(["_trackEvent","Popup","HIGH-NUMBER-Local-Messages-Chrome-DataStore","HIGH-NUM-"+smsarray.length+"-Messages-Across-"+g+"-Contacts---"+google_username_currently_logged_in,smsarray.length]);_gaq.push(["_trackEvent",
"Popup","Count-Recipients-In-Tab-List","",g]);_gaq.push(["_trackEvent","Popup","Count-Local-Messages-Array","",smsarray.length])}_1f6f793d1fef5aa6b34d01e1d9df38590722f3ad903ba227c12c1e3371f0929f03d5bf8b9dc13661(g)})})}function _1f6f793d1fef5aa6b34d01e1d9df38590722f3ad903ba227c12c1e3371f0929f03d5bf8b9dc13661(a){_e011630b6bbcc342084d4a03f29680220e5a0ce26988697be6a7e7f1299acd26dd71c3522b32ca8a();for(var c=0,c=0;c<=a;c++)$("#inputsms-"+c).NobleCount("#charsLeft-"+c),$("#charsLeft-"+c).html("160")}
function _e011630b6bbcc342084d4a03f29680220e5a0ce26988697be6a7e7f1299acd26dd71c3522b32ca8a(){$.fn.NobleCount.settings={on_negative:null,on_positive:null,on_update:function(a,c,b,e){a=c.selector;320==e?$(a)[0].innerHTML=160:$(a)[0].innerHTML=e%160;0>=e?c.css("color","red"):c.css("color","#3F8CD9");0<Math.floor((320-e)/161)&&($(a)[0].innerHTML=$(a)[0].innerHTML+' <span style="font-size:12px;color:green;font-weight:normal">[#2]</span>')},max_chars:320,block_negative:!0,cloak:!1,in_dom:!1}}
function _3da4048ffc556b9d6c7ae43f64d7eed7675ef9843b38b789da2f768c8e9ad5c498ca6be82ff9febdDisplayPurposes(a){var c="",b=new Date(a);a=b.getHours();c=12>a?"AM":"PM";0==a&&(a=12);12<a&&(a-=12);var e=b.getMinutes();10>e&&(e="0"+e);var d=b.getDate(),h=b.getMonth();h++;b=b.getFullYear().toString().slice(2);return h+"/"+d+"/"+b+" "+a+":"+e+" "+c}
function _4af816e250011daa4aa4ec520fc8784835e05e0395bc1164836ad6538cd02e52f5a2ea2a077fa2ca(){chrome.extension.sendRequest({purpose:"get_new_g_contacts_token_call_from_popup"},function(a){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Checking Background Page for Google Contacts token...");_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("new response from BG page is "+a.myreply)})}
function _93b4d1a223c74401decacad7239a321468f673efe1fc71649d2b2e613709dd9b9144b57ed08ae009(){chrome.extension.sendRequest({purpose:"set_quick_polling_outbound_message"},function(a){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Checking Background Page to set quick polling because outbound message is being sent...");_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("new response from BG page is "+a.myreply)})}
function _2338e4352325b67f2b0c5e5b877edae40b456a976f083e4423b4b1b9fab13b1e64c7da54dc665313(){console.log("in getFreshLatestGoogle function");chrome.extension.sendRequest({purpose:"user_invoked_popup_so_force_google_login_check"},function(a){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Popup Starting -- call BG page to get latest Google Login Info in BG scope");_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("response from BG page is "+
a.reply)})}
function _9db40c94067e0a0b13f2049ca8bb5ef4eab98df784f389b83a66e1e45b6657323d3c780a20dac24e(){console.log("in getFreshLatestGoogle function");chrome.extension.sendRequest({purpose:"user_invoked_popup_so_force_google_login_check"},function(a){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Popup Starting -- call BG page to get latest Google Login Info in BG scope");_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("response from BG page is "+a.reply)})}
function _4a92489df747db600fc4eae352112b8896447b1879a8972321da36bcc32c671b929d3b7ad59cb7cc(){_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("In CheckBGPageforGoogleLoginState function");chrome.extension.sendRequest({purpose:"popup_checking_current_google_login_state"},function(a){console.log("Checking Background Page for current Google Login important info...(BG page is polling for it)");console.log("response from BG page...login_status is: "+a.google_login_status_from_bg_page);
console.log("response from BG page...login_and_beta_ready is: "+a.login_and_beta_ready_from_bg_page);console.log("response from BG page...google_username_currently_logged_in is: "+a.google_username_currently_logged_in_from_bg_page);console.log("response from BG page...extra_login_status_info is: "+a.extra_login_status_info_from_bg_page);google_login_status=a.google_login_status_from_bg_page;login_and_beta_ready=a.login_and_beta_ready_from_bg_page;google_username_currently_logged_in=a.google_username_currently_logged_in_from_bg_page;
extra_login_status_info=a.extra_login_status_info_from_bg_page;console.log("google login status is : "+google_login_status);console.log("extra login status is : "+extra_login_status_info);google_login_status?"WEBAPP_BETA"==extra_login_status_info?(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("User is a WEBAPP BETA user"),_010fac766442edacd3c21ae69c965656d1cc0b93fd3035f1d3859400f44bc727d1d64f84d46d4d4a(),console.log("aaaa"),window.close(),a='<img align=BOTTOM src="error_icon.png" width=20 height=18 /> <span style="color:black;font-size:13px"><B>Hi - You\'ve signed up to use the new MightyText Web App.</span> <a href="#" onclick="window.close();chrome.tabs.create({url: \''+
signOutUrl+"'})\"> Log out of MightyText</a>",document.getElementById("top-notif-bar").innerHTML=a):"USER_REG_BUT_NO_ACTIVE_ANDROID_REG"==extra_login_status_info?(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("This user does not have an active Android App registration! (either never set up or they disconnected..)"),a='<img  align=BOTTOM src="error_icon.png" width=20 height=18 /> <span style="color:black;font-size:13px"><B>Android App Not Installed:</B> Please make sure you have installed the MightyText Android app from Google Play &amp configure it using this same Google account.</span> <a href="#" onclick="window.close();chrome.tabs.create({url: \''+
signOutUrl+"'})\"> Log out of MightyText</a>",document.getElementById("top-notif-bar").innerHTML=a):(_0fff99388711cac8b387fc1f1e1bcb9bbef42c015ce749d7f3cfa513005fcfb9c9aed6371ccc4d87(),$("#static-links-plus-separator").empty(),$("#sign-in-status").empty(),$("#top-notif-bar").empty(),a="13px",35<google_username_currently_logged_in.length?a="9px":25<google_username_currently_logged_in.length&&(a="11px"),document.getElementById("sign-in-status").innerHTML+='<img src="green-dot-icon.png"><span style="color:white;font-size:'+
a+';font-weight:600"> '+google_username_currently_logged_in+" |</span>",$("#sign-in-status").removeClass(),document.getElementById("static-links-plus-separator").innerHTML+='<a id="rate-review" style="color:gold;font-size:13px" href="#" onclick="window.close();chrome.tabs.create({url: \'https://market.android.com/details?id=com.texty.sms&reviewId=123\'});">Rate us</a>|',document.getElementById("static-links-plus-separator").innerHTML+='<a id="texty-on-facebook" href="#" onclick="window.close();chrome.tabs.create({url: \'http://www.facebook.com/mightytext\'});">fb</a>|',
document.getElementById("static-links-plus-separator").innerHTML+='<a id="admin" onclick="_ed949327400e1946d935e69862a1a007923ec8b9383dcd791f1116e9f896a1aad66e00416f777575();" href="#" >Options</a>|',$("#static-links-plus-separator").removeClass(),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Logged in fine, so show the google username and Options link..."),_9364c95d7bd822a4751ea55b54fd880c7ef7c89f753f822ee660e26b1e43086a823087cf937b94c8(),window.setTimeout(function(){document.getElementById("dynamic-message").innerHTML=
dynamic_info_global},1500)):(1==window.localStorage.usingWebAppNew&&(_010fac766442edacd3c21ae69c965656d1cc0b93fd3035f1d3859400f44bc727d1d64f84d46d4d4a(),window.close()),a='<img  align=BOTTOM src="error_icon.png" width=20 height=18 /> <span style="color:red"> Not Signed in.</span>  <a href="#" onclick="window.close();chrome.tabs.create({url: \''+signInUrl+"'})\"> Sign-in using your Google Account</a> to use MightyText",document.getElementById("top-notif-bar").innerHTML=a+"<br>"+document.getElementById("top-notif-bar").innerHTML,
console.log(signInUrl))})}function _742e43c1ce7182e763b0ed93c36d6ed60ef960f611307768e6d77951256a33cc9abd40851f6f5ce8(a){for(var c="";-1<a.search("[-]");)a=a.replace("-","");for(;-1<a.search("[ ]");)a=a.replace(" ","");for(;-1<a.search("[(]");)a=a.replace("(","");for(;-1<a.search("[)]");)a=a.replace(")","");-1==a.search("[+]")&&(c="1"==a.charAt(0)?"+":"+1");return c+a}
function _dc7be108595b8c2b2966213463fc4e81e57a79fd93682a5bf3307df0fa368d121550135c3c4ff2db(a){console.log("phone num to check is: "+a);0==a.search("[+1]")&&(a=a.substring(2));console.log("after substring - phonenum override is: "+a);return a}function _040e7d229080fe1b7a7f04aef7081df3d5f7a4e9a3163b7935e1d7c8f0fb32ed0cd957e1e3bf7518(){_040e7d229080fe1b7a7f04aef7081df3d5f7a4e9a3163b7935e1d7c8f0fb32ed0cd957e1e3bf7518GoogleOpenID();window.close()}
function _8e18be93b9ff59ec497fd589a9014218257d1d06b4f5a919031991a4f8273575bfb8a2e5852f25ae(){console.log("in UI_REFRESH_MAGIC");$(function(){0>=selected_tab&&(selected_tab=0,$("#sendbox-0-texts").scrollTop(4E4+$("#sendbox-0-texts").height()));$("#results").tabs();$("#results").show();$("#results").tabs("select",selected_tab);var a="#sendbox-"+selected_tab+"-texts";$(a).scrollTop(4E4+$(a).height());$("#results").bind("tabsshow",function(a,b){var e="#"+b.panel.id+"-texts";$(e).scrollTop(4E4+$(e).height());
$("#inputsms-"+b.index).focus();_gaq.push(["_trackEvent","Popup","Thread-Tab-Click","",1])})});$("#inputsms-"+selected_tab).focus();0<which_phone_num_from_hash_tag_in_url.length&&setTimeout('$("textarea#inputsms-0").focus();',100);$("#refresh-indicator").hide()}
function REFACTOR__54b49173a3d065c6ac85b781feaafac6075c4b0ee2be08065255c376d837844b2bbad53aa5770ffd(){var a=(new Date).getTime();document.getElementById("resultholder").innerHTML=resultdivclean;document.getElementById("messages").innerHTML="";db.transaction(function(c){c.executeSql("SELECT 1",[],function(){for(var b=0;1>b;b++){var c="inputsms-0",d="sendbox-0",h="libox-0",g="charsLeft-0",j=0,l="";_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("sms array length is "+
smsarray.length);for(var b=0,f="initial";b<=smsarray.length&&0!=smsarray.length;b++){if(b==smsarray.length||f!=smsarray[b].right_digits_phone_num){if(0!=b){document.getElementById(d).innerHTML+='<div id="send-action" style="margin-top:10px">';document.getElementById(d).innerHTML+='<textarea id="'+c+'" value="starting val" name="limitedtextarea" onfocus="document.getElementById(\'error-text-content-'+d+"').innerHTML='';\" style=\"float:left;height:60px;width:450px;border:1px solid #CCC;-webkit-border-radius:10px;margin:0px;padding:5px;font-family:'Inconsolata',arial;font-size:15px\" ></textarea>";
document.getElementById(d).innerHTML+='<span style="font-size:14px;font-weight:bold;color:#3F8CD9;border:none" id="'+g+'"> </span>';document.getElementById(d).innerHTML+='<span style="margin-top:160px">';document.getElementById(d).innerHTML+='<button id="send-button-'+j+'" style="float:left;font-family:arial;font-size:12px;margin-left:10px" class="positive button" onclick="if(_6e72d6a14baec8319919163ce9043def03491abab3f8bbc602e3a34f7cbc8a3d97e1393a135562fc()) {_63c8bebcb0332fca2dfc5fe328bec839e7df6dc4a6b7aac0060d64150291886a0b417c6c18103255(\''+
c+"','"+k+"','"+d+'\');}"><span class="mail  icon"></span> Send</button>';document.getElementById(d).innerHTML+="</span>";document.getElementById(d).innerHTML+='<button id="delete-all-from-sender" style="float:right;font-family:arial;font-size:12px;margin:10px;margin-top:0px;padding:5px" class="negative button" onclick="_5a364adc488d4403717ca81d4589905122d0755fa4a15d15b6e6fdf9c95a4de9b40896e3f89bee1e(\''+f+'\')"><span class="trash icon"></span> Delete all from this sender</button>';document.getElementById(d).innerHTML+=
"</div>";document.getElementById(d).innerHTML+='<div id="enter-help-msg" style="paddinggg:5px;margin:10px;margin-top:10px;text-align:left;font-size:12px;color:green">&nbsp&nbsp\u2190 Press Enter to send<br><span style="font-size:10px;color:grey"> &nbsp Will send SMS via your phone to: <B>'+k+"<B></span></div>";document.getElementById(d).innerHTML+='<div id="error-text-content-'+d+'" style="font-weight:bold;color:red;font-size:14px"></div>';$("#"+c).delegate("","keypress",function(a){if(13==a.keyCode&&
(a.preventDefault(),$("#"+a.target.id).blur(),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("enter triggered, and blur attempt"),_6e72d6a14baec8319919163ce9043def03491abab3f8bbc602e3a34f7cbc8a3d97e1393a135562fc())){var b=a.target.id,c=$("#"+b)[0].value;$("#"+b)[0].value=c.replace("\n","");b=b.substr(9);$("#send-button-"+b).click()}$("#"+a.target.id).focus()});if(b==smsarray.length)break;j+=1;c="inputsms-"+String(j);d="sendbox-"+String(j);h="libox-"+String(j);g=
"charsLeft-"+String(j)}document.getElementById("results").innerHTML+='<div id="'+d+'" style="margin-top:10px;bbbackground-color:white;padding:0px;"></div>';_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("--------------------------------------------------------------------------------------------------");f=smsarray[b].right_digits_phone_num;_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("phone # in messages table is: "+f);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Length of this # is: "+
f.length);f=f.replace("+","");7>f.length&&(f=_e1da2a0fda25ee1865940678103797062da7cba55296c37edc970c31de7c9ec1667e4bd363cec4e8(f,7));_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Looking up (last 7 digits of phone num): "+f+" -- in local contacts array -- from msgid: "+smsarray[b].id);var k=0,m=_4f5645f4eb91b42730be27e1029ad446c81d1382b98039782f4f68df506cd143b5015738ff3af2c1(f);""!=m?(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(f+
" WAS  FOUND in Local Contacts DB"),l=m.contactNameLocalDB+'<span style="padding-left:3px;font-size:9px;text-decoration:none;"> ('+m.contactPhoneNumberLocalDB+")</span>",k=m.contactPhoneNumberLocalDB):(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(f+" WAS NOT FOUND in Local Contacts DB -- so now look at Temp Synced G Contacts (from Background Page)"),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Currently: "+contacts.length+
" contacts in Locally Temp Synced G Contacts OAuth array"),0==contacts.length&&(l=smsarray[b].from_phone_num,k=smsarray[b].from_phone_num,_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("No oAuth G Contacts - Will just display full phone number  in tab: "+smsarray[b].from_phone_num+" to user...")),0<contacts.length&&(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Looking up: "+f+" -- in Locally Temp Synced G Contacts OAuth array"),
k=_63edc00dd64912451f2cb6b12f913cf60ed3f57c94f50977cfadb6b1d53fa2fcab084332d424d2b8(f,smsarray[b].from_phone_num),""==k?(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b(f+" NOT FOUND in Locally Temp Synced G Contacts OAuth array"),_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Will just display phone number (last # in thread): "+smsarray[b].from_phone_num),l=smsarray[b].from_phone_num,k=smsarray[b].from_phone_num):(l=k.contactNamefromGoogleContactsArray+
" ("+k.contactPhoneNumberfromGoogleContactsArray+")",k=k.contactPhoneNumberfromGoogleContactsArray)));document.getElementById("anchors-for-tabs").innerHTML+='<li title="'+k+'" id="'+h+'"><a href="#'+d+'">'+l+"</a></li>";0<which_phone_num_from_hash_tag_in_url.length&&(_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("single reply thread -- attempting to hide ul anchors"),$("ul#anchors-for-tabs").hide(),$("ul#anchors-for-tabs").height(1),$("div#top-notif-bar").hide(),
$("#action-info-bar").hide(),$("div#close-window-button-red-x").hide(),$("div#sendbox-0").css("padding-top","0"),setTimeout("$('div#sendbox-0-texts').css('border-top-left-radius','0px 0px');",10),setTimeout("$('button#delete-all-from-sender').hide();",10),setTimeout("$('button#send-button').text('Send Reply');",10),document.getElementById("results").innerHTML='<a style="float:left;clear:both;font-size:12px" href="'+chrome.extension.getURL("popup.html")+'">\u2190 See all message threads</a><br><br><div id="single-reply-heading" style="margin-bottom:-10px;font-size:16px;text-align:left;color:white;background-color:#0087D2;margin-left:0px;padding:8px;padding-right:0px;margin-top:30px;border-top-left-radius:10px;border-top-right-radius:10px;letter-spacing: -0.5px;"><B>'+
l+"</B></div>"+document.getElementById("results").innerHTML);document.getElementById(d).innerHTML+='<div class="text-message-list" style="height:300px" id="'+d+'-texts"> </div>'}f=smsarray[b].right_digits_phone_num;console.log("** Message Line item **")}c=((new Date).getTime()-a)/1E3;console.log("Time to Generate HTML: "+c);window.setTimeout(function(){_43cd2f9a9d5fbb864761f27e76b4277f4bb1b01fa48e7fbd323c7db52dcc224590790b3bfa999378()},100);REFACTOR__8e18be93b9ff59ec497fd589a9014218257d1d06b4f5a919031991a4f8273575bfb8a2e5852f25ae();
300<smsarray.length&&_gaq.push(["_trackEvent","Popup","HIGH-NUMBER-Local-Messages-Chrome-DataStore","HIGH-NUM-"+smsarray.length+"-Messages-Across-"+j+"-Contacts---"+google_username_currently_logged_in,smsarray.length]);_gaq.push(["_trackEvent","Popup","Count-Recipients-In-Tab-List","",j+1]);_gaq.push(["_trackEvent","Popup","Count-Local-Messages-Array","",smsarray.length]);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("value of i (counter) got to: "+b+"...sms total based on array was: "+
smsarray.length);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("number of unique threads with messages is: "+j+1)}_1f6f793d1fef5aa6b34d01e1d9df38590722f3ad903ba227c12c1e3371f0929f03d5bf8b9dc13661(j)})})}
function REFACTOR__8e18be93b9ff59ec497fd589a9014218257d1d06b4f5a919031991a4f8273575bfb8a2e5852f25ae(){console.log("in REFACTOR - UI_REFRESH_MAGIC");$(function(){console.log("selected tab variable stored in page memory\t: "+selected_tab);0>=selected_tab&&(selected_tab=0,$("#sendbox-0-texts").scrollTop(4E4+$("#sendbox-0-texts").height()));$("#results").tabs();$("#results").tabs("select",selected_tab);console.log("1111");_c04a934d82c2f81b3fdcc7ae933729f40ee97b6ac6ee38be88db2b32c4bf8065ab27af7cc1c38822(selected_tab);
console.log("222");$("#results").show();console.log("333");var a="#sendbox-"+selected_tab+"-texts";console.log("444");$(a).scrollTop(4E4+$(a).height());$("#results").bind("tabsselect",function(a,c){var d="#inputsms-"+c.index;console.log("Clicked Tab ui index is: "+c.index);_23a72b4b1452794c76a05bc6804f1ad8aaf421813a425331cd8500cd360b87ec760ca2e0bd6ddd2b("Clicked Tab Phone Number is: "+c.tab.parentNode.title);_c04a934d82c2f81b3fdcc7ae933729f40ee97b6ac6ee38be88db2b32c4bf8065ab27af7cc1c38822(c.index);
$(d).focus();console.log(a);console.log(c);console.log($(c.panel).children("textarea").focus());_gaq.push(["_trackEvent","Popup","Thread-Tab-Click","",1])})});var a="#inputsms-"+selected_tab;$(a).focus();console.log("555");console.log(a);0<which_phone_num_from_hash_tag_in_url.length&&setTimeout('$("textarea#inputsms-0").focus();',100);$("#refresh-indicator").hide()}
function _c04a934d82c2f81b3fdcc7ae933729f40ee97b6ac6ee38be88db2b32c4bf8065ab27af7cc1c38822(a){var c=[],b="",e="sendbox-"+a+"-texts";select_sql_string="SELECT *,substr(replace(replace(from_phone_num,' ',''),'-',''),-7) AS right_digits_phone_num FROM Messages WHERE right_digits_phone_num=substr(replace(replace('"+$("#libox-"+a).attr("title")+"',' ',''),'-',''),-7) ORDER BY right_digits_phone_num,time_client";console.log(select_sql_string);db.transaction(function(d){d.executeSql(select_sql_string,[],
function(d,g){for(var j=0,l=null;j<g.rows.length;j++)console.log("in loop - getmessagesarraydataforonenumber"),l=g.rows.item(j),c[j]=l;console.log("array length of one number array is "+c.length);b=_7b5031be6ff6c9f56a477a1b027794ab88da5b7dba82868dd91b13e06a289896dc13d0d696a35f9c(c,e,a)});console.log("success! -- in getmessagesarraydataforonenumber")});console.log("Returned value of HTML from function is, and should be:"+b);console.log(b)}
function _7b5031be6ff6c9f56a477a1b027794ab88da5b7dba82868dd91b13e06a289896dc13d0d696a35f9c(a,c,b){var e=document.getElementById(c).innerHTML="";console.log("now generate HTML");console.log("array length passed in is: "+a.length);for(var d=0;d<a.length&&0!=a.length;d++){console.log("generating html");var h="";1==a[d].type&&(h=" sms-reply");e+='<li id="sms-line-item-msgid-'+a[d].msgid+'" class="sms-line-item'+h+'">';h="";h=80>a[d].body.length?'style="display:inline;line-height: 35px"':"";e+='<span id= "sms-body-msgid-'+
a[d].msgid+'" class="sms-body" '+h+">"+_049aa165db6223a076237384bec028620b7243d8787d41d9c35c57ef9e4aba799bacefac312149a4(a[d].body)+'</span>  <span class="sms-time">'+_3da4048ffc556b9d6c7ae43f64d7eed7675ef9843b38b789da2f768c8e9ad5c498ca6be82ff9febdDisplayPurposes(a[d].time_client)+"</span>";1==a[d].type&&(51==a[d].status?e+='<span class="outbound-state-info"> [Computer&nbsp&raquo&nbspYour&nbspPhone] </span>':52==a[d].status?e+='<span class="outbound-state-info" style="color:green"> [Full Cycle Complete] </span>':
-99==a[d].status?e+='<span class="outbound-state-info" style="color:maroon"> [Failed Send] </span>':1==a[d].status&&(e+='<span class="outbound-state-info" style="color:maroon"> [Phone Sent SMS] </span>'));e+='<span class="message-action-links">';e+='<img src="red-close-x.png" class="HoverBorder" align=middle height=11 width=11 style="margin-left:3px;margin-bottom:5px" onclick="_1eeacf63551c1215a1cd882c7dc511735e9a1a08ee8625704bfd0a4bef7906c023dd5da1f43ab7a7(\''+a[d].msgid+"')\"> </span> </li>"}console.log("we plan to populate this DOM with these threads for a single phone number: "+
c);a="#"+c;document.getElementById(c).style.display="none";document.getElementById(c).innerHTML+=e;$(a).fadeIn(200,function(){});console.log("here");$("#"+c).scrollTop(14E4);console.log("here2");$("#inputsms-"+b).focus();console.log("here3")}console.log(222);