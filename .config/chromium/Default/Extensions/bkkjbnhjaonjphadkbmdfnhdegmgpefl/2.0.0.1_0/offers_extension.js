var tr_a=window,tr_b=Function,tr_c=document,tr_d=chrome,tr_e="bind",tr_f="apply",tr_g="push",tr_h="getElementById",tr_i="addEventListener",tr_="prototype",tr_j="call",tr_k,tr_l=function(a,b,c){return a[tr_j][tr_f](a[tr_e],arguments)},tr_m=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array[tr_].slice[tr_j](arguments,2);return function(){var c=Array[tr_].slice[tr_j](arguments);Array[tr_].unshift[tr_f](c,d);return a[tr_f](b,c)}}return function(){return a[tr_f](b,arguments)}},tr_n=
function(a,b,c){tr_n=tr_b[tr_][tr_e]&&-1!=tr_b[tr_][tr_e].toString().indexOf("native code")?tr_l:tr_m;return tr_n[tr_f](null,arguments)};tr_b[tr_].bind=tr_b[tr_][tr_e]||function(a,b){if(1<arguments.length){var c=Array[tr_].slice[tr_j](arguments,1);c.unshift(this,a);return tr_n[tr_f](null,c)}return tr_n(this,a)};var tr_o={v:"https://www.google.com/offers/home?",w:"#!details/",o:"https://www.google.com/offers/json",A:"ln",u:18E6,C:"offers.preferredlocation",B:"offers.lastbadgenotification",e:200};var tr_p=function(){};tr_p[tr_].p=function(a,b,c,d,f,g){var e=new XMLHttpRequest;e.open(b,a,g);""!=c&&e.setRequestHeader("Content-Type",c);e.onreadystatechange=function(){4==e.readyState&&f(e.status==tr_o.e?tr_a.JSON.parse(e.responseText):{},e.status)};e.send(d)};var tr_q=function(){this.b=tr_o;this.n=new tr_p};tr_q[tr_].t=function(a,b,c){a=this.b.o+"?pubid="+tr_d.i18n.getMessage("@@extension_id")+"&"+a;this.n.p(a,"GET","","",function(a,c){b(a,c)},c)};tr_q[tr_].l=function(a){this.t("querytype=today&cnt=50&utm_source=xsell&utm_medium=extension",a,!0)};var tr_r=function(){this.b=tr_o;this.localStorage=tr_a.localStorage};var _gaq=_gaq||[];_gaq[tr_g](["_setAccount","UA-26630170-1"]);_gaq[tr_g](["_trackPageview"]);var tr_s=tr_c.createElement("script");tr_s.type="text/javascript";tr_s.async=!0;tr_s.src="https://ssl.google-analytics.com/ga.js";var tr_t=tr_c.getElementsByTagName("script")[0];tr_t.parentNode.insertBefore(tr_s,tr_t);var tr_u=function(){this.b=tr_o;this.f=new tr_q;this.storage=new tr_r;this.c=tr_c[tr_h]("dealcontainer");this.h=tr_c[tr_h]("appclose");this.g=tr_c[tr_h]("errorcontainer");this.k=tr_c[tr_h]("logo");var a=this;this.c[tr_i]("click",function(b){a.proxy(a.i,a,b)},!1);this.h[tr_i]("click",function(b){a.proxy(a.d,a,b)},!1);this.k[tr_i]("click",function(b){a.proxy(a.j,a,b)},!1)};tr_k=tr_u[tr_];tr_k.proxy=function(a,b,c){a[tr_j](b,c)};
tr_k.a=function(a,b,c,d){a=tr_c.createElement(a);a.setAttribute("class",b);a.innerHTML=c;if(d)for(var f in d)a.setAttribute(f,d[f]);return a.outerHTML};
tr_k.r=function(a){return a=["<li ",'data-url="',a.url,'">',this.a("div","imgcontainer",this.a("img","viewbutton","",{src:a.image_url}),{}),this.a("div","businessname viewbutton",a.business_name,{}),this.a("div","dealshorttitle viewbutton",a.short_title,{}),this.a("div","locationname viewbutton",a.location_name,{}),'<div class="buttoncontainer">','<a class="kd-button kd-menubutton kd-button-submit',' viewbutton">View offer</a></div>',"</li>"]};
tr_k.m=function(a){for(var b=[],c=0;c<a.length;c++)b=b.concat(this.r(a[c]));return b.join("")};tr_k.d=function(){tr_a.close()};tr_k.load=function(){this.s()};tr_k.i=function(a){for(var b=a.target,b=b.parentNode;null!=b&&"li"!=b.tagName.toLowerCase();)b=b.parentNode;b.getAttribute("data-id");b=b.getAttribute("data-url");this.q(b);this.d();a.stopPropagation()};
tr_k.s=function(){this.c.innerHTML="<li>Loading...</li>";var a=this;this.f.l(function(b,c){var d=c==a.b.e;d&&(a.c.innerHTML=a.m(b));a.c.style.display=d?"block":"none";a.g.style.display=d?"none":"block";tr_d.browserAction.setBadgeText({text:""})})};tr_k.j=function(){_gaq[tr_g](["_trackEvent","home","logo"]);tr_d.tabs.create({url:"https://www.google.com/offers"},function(){})};tr_k.q=function(a){_gaq[tr_g](["_trackEvent","view","view"]);tr_d.tabs.create({url:a},function(){})};
tr_a[tr_i]("load",function(){var a=new tr_u;a.load()},!1);
